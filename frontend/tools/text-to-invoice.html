<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Invoice Generator - Create professional invoices instantly. Free, easy to use, perfect for freelancers and businesses.">
    <title>Invoice Generator - Free All In One AI</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Outfit:wght@400;500;600;700&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/responsive.css">
    <link rel="stylesheet" href="../assets/css/animations.css">
</head>

<body>

    <header>
        <div class="header-container">
            <div class="logo">
                <a href="../index.html">ðŸ¤– Free All In One AI</a>
            </div>

            <nav>
                <ul class="nav-menu">
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="../index.html#tools">Tools</a></li>
                    <li><a href="../contact.html">Contact</a></li>
                </ul>
            </nav>

            <div class="menu-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </header>

    <aside class="sidebar">
        <h4 class="sidebar-title">AI Tools</h4>
        <ul class="sidebar-menu">
            <li><a href="text-to-pdf.html">Text to PDF</a></li>
            <li><a href="text-to-image.html">Text to Image</a></li>
            <li><a href="text-to-invoice.html" class="active">Invoice Generator</a></li>
            <li><a href="seo-checker.html">SEO Checker</a></li>
            <li><a href="qr-generator.html">QR Code Generator</a></li>
            <li><a href="visiting-card.html">Visiting Card Maker</a></li>
        </ul>

        <h4 class="sidebar-title" style="margin-top: 2rem;">Legal</h4>
        <ul class="sidebar-menu">
            <li><a href="../privacy.html">Privacy Policy</a></li>
            <li><a href="../terms.html">Terms of Service</a></li>
            <li><a href="../disclaimer.html">Disclaimer</a></li>
        </ul>
    </aside>

    <main>
        <div class="container">
            <div class="tool-container">
                <div class="tool-header">
                    <h1 class="text-gradient">ðŸ’° Invoice Generator</h1>
                    <p>Create professional invoices in minutes. Perfect for freelancers, consultants, and small
                        businesses.</p>
                </div>

                <form id="invoiceForm">
                    <!-- Your Details -->
                    <h3
                        style="margin-bottom: var(--spacing-md); border-bottom: 2px solid var(--glass-border); padding-bottom: var(--spacing-sm);">
                        Your Details</h3>

                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--spacing-md);">
                        <div class="form-group">
                            <label for="yourName" class="form-label">Your Name/Business *</label>
                            <input type="text" id="yourName" name="yourName" class="form-input" required
                                placeholder="Your Business Name">
                        </div>

                        <div class="form-group">
                            <label for="yourEmail" class="form-label">Your Email *</label>
                            <input type="email" id="yourEmail" name="yourEmail" class="form-input" required
                                placeholder="you@business.com">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="yourAddress" class="form-label">Your Address</label>
                        <textarea id="yourAddress" name="yourAddress" class="form-textarea" rows="2"
                            placeholder="Your business address"></textarea>
                    </div>

                    <!-- Client Details -->
                    <h3
                        style="margin: var(--spacing-lg) 0 var(--spacing-md) 0; border-bottom: 2px solid var(--glass-border); padding-bottom: var(--spacing-sm);">
                        Client Details</h3>

                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--spacing-md);">
                        <div class="form-group">
                            <label for="clientName" class="form-label">Client Name *</label>
                            <input type="text" id="clientName" name="clientName" class="form-input" required
                                placeholder="Client Name">
                        </div>

                        <div class="form-group">
                            <label for="clientEmail" class="form-label">Client Email</label>
                            <input type="email" id="clientEmail" name="clientEmail" class="form-input"
                                placeholder="client@example.com">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="clientAddress" class="form-label">Client Address</label>
                        <textarea id="clientAddress" name="clientAddress" class="form-textarea" rows="2"
                            placeholder="Client address"></textarea>
                    </div>

                    <!-- Invoice Details -->
                    <h3
                        style="margin: var(--spacing-lg) 0 var(--spacing-md) 0; border-bottom: 2px solid var(--glass-border); padding-bottom: var(--spacing-sm);">
                        Invoice Details</h3>

                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-md);">
                        <div class="form-group">
                            <label for="invoiceNumber" class="form-label">Invoice Number *</label>
                            <input type="text" id="invoiceNumber" name="invoiceNumber" class="form-input" required
                                placeholder="INV-001">
                        </div>

                        <div class="form-group">
                            <label for="invoiceDate" class="form-label">Invoice Date *</label>
                            <input type="date" id="invoiceDate" name="invoiceDate" class="form-input" required>
                        </div>

                        <div class="form-group">
                            <label for="dueDate" class="form-label">Due Date *</label>
                            <input type="date" id="dueDate" name="dueDate" class="form-input" required>
                        </div>
                    </div>

                    <!-- Items -->
                    <h3
                        style="margin: var(--spacing-lg) 0 var(--spacing-md) 0; border-bottom: 2px solid var(--glass-border); padding-bottom: var(--spacing-sm);">
                        Items/Services</h3>

                    <div id="itemsContainer">
                        <div class="invoice-item"
                            style="display: grid; grid-template-columns: 2fr 1fr 1fr auto; gap: var(--spacing-sm); margin-bottom: var(--spacing-sm); align-items: end;">
                            <div class="form-group mb-sm">
                                <label class="form-label">Description *</label>
                                <input type="text" class="form-input item-description" required
                                    placeholder="Service or product description">
                            </div>

                            <div class="form-group mb-sm">
                                <label class="form-label">Quantity *</label>
                                <input type="number" class="form-input item-quantity" min="1" value="1" required>
                            </div>

                            <div class="form-group mb-sm">
                                <label class="form-label">Price *</label>
                                <input type="number" class="form-input item-price" step="0.01" min="0" required
                                    placeholder="0.00">
                            </div>

                            <button type="button" class="btn btn-secondary remove-item"
                                style="padding: 0.5rem 1rem; display: none;">âœ•</button>
                        </div>
                    </div>

                    <button type="button" id="addItemBtn" class="btn btn-secondary mb-lg">+ Add Item</button>

                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-md);">
                        <div class="form-group">
                            <label for="currency" class="form-label">Currency</label>
                            <select id="currency" name="currency" class="form-select">
                                <option value="USD">USD ($)</option>
                                <option value="EUR">EUR (â‚¬)</option>
                                <option value="GBP">GBP (Â£)</option>
                                <option value="INR">INR (â‚¹)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="tax" class="form-label">Tax (%)</label>
                            <input type="number" id="tax" name="tax" class="form-input" min="0" max="100" step="0.1"
                                value="0" placeholder="0">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="notes" class="form-label">Notes/Payment Terms</label>
                        <textarea id="notes" name="notes" class="form-textarea" rows="3"
                            placeholder="Payment terms, thank you note, or additional information..."></textarea>
                    </div>

                    <button type="submit" class="btn btn-primary hover-shine">
                        Generate Invoice
                    </button>
                </form>

                <div id="resultArea" class="result-area" style="display: none;">
                    <h3>Invoice Generated Successfully!</h3>
                    <p>Your professional invoice is ready for download.</p>
                    <button id="downloadBtn" class="btn btn-primary hover-scale mt-md">Download Invoice PDF</button>
                </div>

            </div>
        </div>
    </main>

    <footer>
        <div class="footer-container">
            <div class="footer-section">
                <h4>Free All In One AI</h4>
                <p class="text-secondary">Your one-stop solution for AI-powered productivity tools.</p>
            </div>

            <div class="footer-section">
                <h4>Tools</h4>
                <ul class="footer-links">
                    <li><a href="text-to-pdf.html">Text to PDF</a></li>
                    <li><a href="text-to-image.html">Text to Image</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h4>Legal</h4>
                <ul class="footer-links">
                    <li><a href="../privacy.html">Privacy Policy</a></li>
                    <li><a href="../terms.html">Terms of Service</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h4>Connect</h4>
                <ul class="footer-links">
                    <li><a href="../contact.html">Contact Us</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2026 Free All In One AI. All rights reserved.</p>
        </div>
    </footer>

    <script src="../assets/js/main.js"></script>
    <script src="../assets/js/api.js"></script>
    <script>
        // Set default dates
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('invoiceDate').value = today;

        const dueDate = new Date();
        dueDate.setDate(dueDate.getDate() + 30);
        document.getElementById('dueDate').value = dueDate.toISOString().split('T')[0];

        // Add item functionality
        document.getElementById('addItemBtn').addEventListener('click', function () {
            const container = document.getElementById('itemsContainer');
            const itemDiv = container.querySelector('.invoice-item').cloneNode(true);

            // Clear inputs
            itemDiv.querySelectorAll('input').forEach(input => {
                if (input.classList.contains('item-quantity')) {
                    input.value = '1';
                } else {
                    input.value = '';
                }
            });

            // Show remove button
            itemDiv.querySelector('.remove-item').style.display = 'block';

            container.appendChild(itemDiv);
            updateRemoveButtons();
        });

        // Remove item functionality
        document.getElementById('itemsContainer').addEventListener('click', function (e) {
            if (e.target.classList.contains('remove-item')) {
                e.target.closest('.invoice-item').remove();
                updateRemoveButtons();
            }
        });

        function updateRemoveButtons() {
            const items = document.querySelectorAll('.invoice-item');
            if (items.length === 1) {
                items[0].querySelector('.remove-item').style.display = 'none';
            }
        }

        // Form submission
        document.getElementById('invoiceForm').addEventListener('submit', async function (e) {
            e.preventDefault();

            const resultArea = document.getElementById('resultArea');
            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;

            // Collect items
            const items = [];
            document.querySelectorAll('.invoice-item').forEach(item => {
                items.push({
                    description: item.querySelector('.item-description').value,
                    quantity: parseInt(item.querySelector('.item-quantity').value),
                    price: parseFloat(item.querySelector('.item-price').value)
                });
            });

            // Build invoice data
            const invoiceData = {
                yourName: document.getElementById('yourName').value,
                yourEmail: document.getElementById('yourEmail').value,
                yourAddress: document.getElementById('yourAddress').value,
                clientName: document.getElementById('clientName').value,
                clientEmail: document.getElementById('clientEmail').value,
                clientAddress: document.getElementById('clientAddress').value,
                invoiceNumber: document.getElementById('invoiceNumber').value,
                invoiceDate: document.getElementById('invoiceDate').value,
                dueDate: document.getElementById('dueDate').value,
                items: items,
                currency: document.getElementById('currency').value,
                tax: parseFloat(document.getElementById('tax').value),
                notes: document.getElementById('notes').value
            };

            // Show loading
            submitBtn.textContent = 'Generating...';
            submitBtn.disabled = true;
            resultArea.style.display = 'none';

            try {
                // Call API
                const response = await window.apiClient.generateInvoice(invoiceData);

                // Store blob for download
                window.invoiceBlob = response;

                // Show success
                resultArea.style.display = 'block';
                resultArea.scrollIntoView({ behavior: 'smooth', block: 'nearest' });

                window.appUtils.showToast('Invoice generated successfully!', 'success');
            } catch (error) {
                console.error('Invoice Generation Error:', error);
                window.appUtils.showToast(error.message || 'Failed to generate invoice. Please try again.', 'error');
            } finally {
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }
        });

        // Download button
        document.getElementById('downloadBtn').addEventListener('click', function () {
            if (window.invoiceBlob) {
                const invoiceNumber = document.getElementById('invoiceNumber').value;
                const filename = `invoice_${invoiceNumber}_${Date.now()}.pdf`;
                window.apiClient.downloadFile(window.invoiceBlob, filename);
                window.appUtils.showToast('Download started!', 'success');
            }
        });
    </script>

</body>

</html>