<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Visiting Card Maker - Design professional business cards with customizable templates. Free and easy to use.">
    <title>Visiting Card Maker - Free All In One AI</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Outfit:wght@400;500;600;700&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/responsive.css">
    <link rel="stylesheet" href="../assets/css/animations.css">
</head>

<body>

    <header>
        <div class="header-container">
            <div class="logo">
                <a href="../index.html">ðŸ¤– Free All In One AI</a>
            </div>

            <nav>
                <ul class="nav-menu">
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="../index.html#tools">Tools</a></li>
                    <li><a href="../contact.html">Contact</a></li>
                </ul>
            </nav>

            <div class="menu-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </header>

    <aside class="sidebar">
        <h4 class="sidebar-title">AI Tools</h4>
        <ul class="sidebar-menu">
            <li><a href="text-to-pdf.html">Text to PDF</a></li>
            <li><a href="text-to-image.html">Text to Image</a></li>
            <li><a href="text-to-invoice.html">Invoice Generator</a></li>
            <li><a href="seo-checker.html">SEO Checker</a></li>
            <li><a href="qr-generator.html">QR Code Generator</a></li>
            <li><a href="visiting-card.html" class="active">Visiting Card Maker</a></li>
        </ul>

        <h4 class="sidebar-title" style="margin-top: 2rem;">Legal</h4>
        <ul class="sidebar-menu">
            <li><a href="../privacy.html">Privacy Policy</a></li>
            <li><a href="../terms.html">Terms of Service</a></li>
            <li><a href="../disclaimer.html">Disclaimer</a></li>
        </ul>
    </aside>

    <main>
        <div class="container">
            <div class="tool-container">
                <div class="tool-header">
                    <h1 class="text-gradient">ðŸ’¼ Visiting Card Maker</h1>
                    <p>Design professional business cards with customizable templates, colors, and fonts. Add your logo
                        and QR code!</p>
                </div>

                <form id="cardForm">
                    <!-- Template Selection -->
                    <h3
                        style="margin-bottom: var(--spacing-md); border-bottom: 2px solid var(--glass-border); padding-bottom: var(--spacing-sm);">
                        Choose Template</h3>

                    <div class="form-group">
                        <div
                            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-md);">
                            <label class="template-card" style="cursor: pointer; position: relative;">
                                <input type="radio" name="template" value="professional" checked
                                    style="position: absolute; opacity: 0;">
                                <div class="tool-card"
                                    style="border: 2px solid transparent; transition: var(--transition-fast);">
                                    <h4>Professional</h4>
                                    <p style="font-size: 0.875rem;">Clean and minimal design</p>
                                </div>
                            </label>

                            <label class="template-card" style="cursor: pointer; position: relative;">
                                <input type="radio" name="template" value="modern"
                                    style="position: absolute; opacity: 0;">
                                <div class="tool-card"
                                    style="border: 2px solid transparent; transition: var(--transition-fast);">
                                    <h4>Modern</h4>
                                    <p style="font-size: 0.875rem;">Bold and contemporary</p>
                                </div>
                            </label>

                            <label class="template-card" style="cursor: pointer; position: relative;">
                                <input type="radio" name="template" value="creative"
                                    style="position: absolute; opacity: 0;">
                                <div class="tool-card"
                                    style="border: 2px solid transparent; transition: var(--transition-fast);">
                                    <h4>Creative</h4>
                                    <p style="font-size: 0.875rem;">Artistic and unique</p>
                                </div>
                            </label>
                        </div>
                    </div>

                    <!-- Personal Information -->
                    <h3
                        style="margin: var(--spacing-lg) 0 var(--spacing-md) 0; border-bottom: 2px solid var(--glass-border); padding-bottom: var(--spacing-sm);">
                        Personal Information</h3>

                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--spacing-md);">
                        <div class="form-group">
                            <label for="fullName" class="form-label">Full Name *</label>
                            <input type="text" id="fullName" name="fullName" class="form-input" required
                                placeholder="John Doe">
                        </div>

                        <div class="form-group">
                            <label for="jobTitle" class="form-label">Job Title *</label>
                            <input type="text" id="jobTitle" name="jobTitle" class="form-input" required
                                placeholder="Marketing Director">
                        </div>
                    </div>

                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--spacing-md);">
                        <div class="form-group">
                            <label for="company" class="form-label">Company Name</label>
                            <input type="text" id="company" name="company" class="form-input" placeholder="Acme Inc.">
                        </div>

                        <div class="form-group">
                            <label for="email" class="form-label">Email *</label>
                            <input type="email" id="email" name="email" class="form-input" required
                                placeholder="john.doe@example.com">
                        </div>
                    </div>

                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--spacing-md);">
                        <div class="form-group">
                            <label for="phone" class="form-label">Phone Number *</label>
                            <input type="tel" id="phone" name="phone" class="form-input" required
                                placeholder="+1 (555) 123-4567">
                        </div>

                        <div class="form-group">
                            <label for="website" class="form-label">Website</label>
                            <input type="url" id="website" name="website" class="form-input"
                                placeholder="www.example.com">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="address" class="form-label">Address</label>
                        <input type="text" id="address" name="address" class="form-input"
                            placeholder="123 Business St, City, Country">
                    </div>

                    <!-- Customization -->
                    <h3
                        style="margin: var(--spacing-lg) 0 var(--spacing-md) 0; border-bottom: 2px solid var(--glass-border); padding-bottom: var(--spacing-sm);">
                        Design Customization</h3>

                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-md);">
                        <div class="form-group">
                            <label for="primaryColor" class="form-label">Primary Color</label>
                            <input type="color" id="primaryColor" class="form-input" value="#667eea">
                        </div>

                        <div class="form-group">
                            <label for="secondaryColor" class="form-label">Secondary Color</label>
                            <input type="color" id="secondaryColor" class="form-input" value="#764ba2">
                        </div>

                        <div class="form-group">
                            <label for="fontFamily" class="form-label">Font Style</label>
                            <select id="fontFamily" class="form-select">
                                <option value="Inter">Inter (Modern)</option>
                                <option value="Outfit">Outfit (Bold)</option>
                                <option value="Georgia">Georgia (Classic)</option>
                                <option value="Arial">Arial (Simple)</option>
                                <option value="Courier">Courier (Typewriter)</option>
                            </select>
                        </div>
                    </div>

                    <!-- Logo Upload -->
                    <div class="form-group">
                        <label for="logo" class="form-label">Upload Logo (Optional)</label>
                        <input type="file" id="logo" name="logo" class="form-input" accept="image/*">
                        <p style="font-size: 0.875rem; color: var(--text-muted); margin-top: 0.5rem;">Recommended:
                            Square image, max 2MB</p>
                        <div id="logoPreview" style="margin-top: var(--spacing-md); display: none;">
                            <img id="logoPreviewImg"
                                style="max-width: 150px; max-height: 150px; border-radius: var(--radius-md); box-shadow: var(--shadow-md);"
                                alt="Logo preview">
                        </div>
                    </div>

                    <!-- QR Code Option -->
                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: var(--spacing-sm); cursor: pointer;">
                            <input type="checkbox" id="includeQR" name="includeQR" checked>
                            <span class="form-label" style="margin: 0;">Include QR Code (with contact info)</span>
                        </label>
                    </div>

                    <button type="submit" class="btn btn-primary hover-shine">
                        Generate Business Card
                    </button>
                </form>

                <div id="resultArea" class="result-area" style="display: none; text-align: center;">
                    <h3>Business Card Created!</h3>
                    <div id="cardPreview"
                        style="margin: var(--spacing-lg) auto; max-width: 600px; padding: var(--spacing-lg); background: white; border-radius: var(--radius-md);">
                        <!-- Card preview will be displayed here -->
                    </div>
                    <div style="display: flex; gap: var(--spacing-md); justify-content: center; flex-wrap: wrap;">
                        <button id="downloadBtn" class="btn btn-primary hover-scale">Download as PNG</button>
                        <button id="downloadPdfBtn" class="btn btn-secondary hover-scale">Download as PDF</button>
                    </div>
                </div>

            </div>
        </div>
    </main>

    <footer>
        <div class="footer-container">
            <div class="footer-section">
                <h4>Free All In One AI</h4>
                <p class="text-secondary">Your one-stop solution for AI-powered productivity tools.</p>
            </div>

            <div class="footer-section">
                <h4>Tools</h4>
                <ul class="footer-links">
                    <li><a href="text-to-pdf.html">Text to PDF</a></li>
                    <li><a href="text-to-image.html">Text to Image</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h4>Legal</h4>
                <ul class="footer-links">
                    <li><a href="../privacy.html">Privacy Policy</a></li>
                    <li><a href="../terms.html">Terms of Service</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h4>Connect</h4>
                <ul class="footer-links">
                    <li><a href="../contact.html">Contact Us</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2026 Free All In One AI. All rights reserved.</p>
        </div>
    </footer>

    <script src="../assets/js/main.js"></script>
    <script src="../assets/js/api.js"></script>
    <script>
        // Template selection visual feedback
        document.querySelectorAll('input[name="template"]').forEach(radio => {
            radio.addEventListener('change', function () {
                document.querySelectorAll('.template-card .tool-card').forEach(card => {
                    card.style.borderColor = 'transparent';
                });
                this.closest('.template-card').querySelector('.tool-card').style.borderColor = 'var(--primary-color)';
            });
        });

        // Initialize first template as selected
        document.querySelector('input[name="template"]:checked').closest('.template-card').querySelector('.tool-card').style.borderColor = 'var(--primary-color)';

        // Logo preview
        document.getElementById('logo').addEventListener('change', function (e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (event) {
                    document.getElementById('logoPreviewImg').src = event.target.result;
                    document.getElementById('logoPreview').style.display = 'block';
                };
                reader.readAsDataURL(file);
            }
        });

        // Form submission
        document.getElementById('cardForm').addEventListener('submit', async function (e) {
            e.preventDefault();

            const resultArea = document.getElementById('resultArea');
            const cardPreview = document.getElementById('cardPreview');
            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;

            // Collect form data
            const formData = new FormData();
            formData.append('template', document.querySelector('input[name="template"]:checked').value);
            formData.append('fullName', document.getElementById('fullName').value);
            formData.append('jobTitle', document.getElementById('jobTitle').value);
            formData.append('company', document.getElementById('company').value);
            formData.append('email', document.getElementById('email').value);
            formData.append('phone', document.getElementById('phone').value);
            formData.append('website', document.getElementById('website').value);
            formData.append('address', document.getElementById('address').value);
            formData.append('primaryColor', document.getElementById('primaryColor').value);
            formData.append('secondaryColor', document.getElementById('secondaryColor').value);
            formData.append('fontFamily', document.getElementById('fontFamily').value);
            formData.append('includeQR', document.getElementById('includeQR').checked);

            const logoFile = document.getElementById('logo').files[0];
            if (logoFile) {
                formData.append('logo', logoFile);
            }

            // Show loading
            submitBtn.textContent = 'Generating...';
            submitBtn.disabled = true;
            resultArea.style.display = 'none';
            cardPreview.innerHTML = '';

            try {
                // Call API
                const cardData = Object.fromEntries(formData.entries());
                if (logoFile) {
                    cardData.logo = logoFile;
                }

                const response = await window.apiClient.generateVisitingCard(cardData);

                // Display preview
                let imageUrl;
                if (response instanceof Blob) {
                    imageUrl = URL.createObjectURL(response);
                    window.cardBlob = response;
                } else if (response.cardImageUrl) {
                    imageUrl = response.cardImageUrl;
                }

                if (imageUrl) {
                    const img = document.createElement('img');
                    img.src = imageUrl;
                    img.style.maxWidth = '100%';
                    img.style.borderRadius = 'var(--radius-md)';
                    img.style.boxShadow = 'var(--shadow-lg)';
                    img.alt = 'Business card preview';
                    cardPreview.appendChild(img);

                    resultArea.style.display = 'block';
                    resultArea.scrollIntoView({ behavior: 'smooth', block: 'nearest' });

                    window.appUtils.showToast('Business card generated successfully!', 'success');
                }
            } catch (error) {
                console.error('Card Generation Error:', error);
                window.appUtils.showToast(error.message || 'Failed to generate business card. Please try again.', 'error');
            } finally {
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }
        });

        // Download as PNG
        document.getElementById('downloadBtn').addEventListener('click', function () {
            if (window.cardBlob) {
                const filename = `business_card_${Date.now()}.png`;
                window.apiClient.downloadFile(window.cardBlob, filename);
                window.appUtils.showToast('Download started!', 'success');
            }
        });

        // Download as PDF
        document.getElementById('downloadPdfBtn').addEventListener('click', async function () {
            if (window.cardBlob) {
                // Convert to PDF or request PDF version from backend
                const filename = `business_card_${Date.now()}.pdf`;
                window.apiClient.downloadFile(window.cardBlob, filename);
                window.appUtils.showToast('Download started!', 'success');
            }
        });
    </script>

</body>

</html>